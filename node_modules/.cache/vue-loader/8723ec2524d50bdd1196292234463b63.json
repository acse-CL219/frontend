{"remainingRequest":"/Users/liuzhaolun/WebstormProjects/Tencent/website/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuzhaolun/WebstormProjects/Tencent/website/src/views/Register.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/liuzhaolun/WebstormProjects/Tencent/website/src/views/Register.vue","mtime":1595785202836},{"path":"/Users/liuzhaolun/WebstormProjects/Tencent/website/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuzhaolun/WebstormProjects/Tencent/website/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/liuzhaolun/WebstormProjects/Tencent/website/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/liuzhaolun/WebstormProjects/Tencent/website/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuzhaolun/WebstormProjects/Tencent/website/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLyog6K6+572u6IOM5pmv5Zu+5qGIICovCiNiZyB7CiAgYmFja2dyb3VuZDogdXJsKCIuLi9pbWFnZXMvcmVnaXN0ZXIuanBnIik7CiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsKICBoZWlnaHQ6IDEwMCU7CiAgcG9zaXRpb246IGZpeGVkOwogIGxlZnQ6IDA7CiAgdG9wOiAwOwogIHdpZHRoOiAxMDAlOwp9Cg=="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"bg\">\n    <el-row type=\"flex\" justify=\"center\" style=\"margin-right:100px; margin-top: 110px\">\n      <el-col :span=\"5\" :xs=\"20\">\n        <div style=\"font-size:44px;margin-bottom: 20px;\">欢迎注册</div>\n        <div style=\"font-size:28px;margin-bottom: 64px;\">\n          每一天,乐在沟通\n          <div style=\"color:#359eff;float:right;\"></div>\n        </div>\n\n        <el-form size=\"medium\">\n          <el-form-item :error=\"errors.username\" label=\"用户名\" prop=\"username\">\n            <el-input placeholder=\"用户名\" v-model=\"reg.username\"></el-input>\n          </el-form-item>\n          <el-form-item :error=\"errors.password\" label=\"密码\" prop=\"password\">\n            <el-input placeholder=\"密码\" v-model=\"reg.password\" show-password></el-input>\n          </el-form-item>\n          <el-form-item :error=\"errors.password2\" label=\"确认密码\" prop=\"password2\">\n            <el-input placeholder=\"密码\" v-model=\"reg.password2\" show-password></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"submit()\" size=\"medium\">立即注册</el-button>\n          </el-form-item>\n          <el-form-item>\n            <el-tooltip placement=\"top\">\n              <div slot=\"content\">相关哈哈哈哈哈</div>\n              <div>\n                <el-checkbox v-model=\"isAgree\" @change=\"agree\">我已阅读并同意相关服务条款和隐私政策</el-checkbox>\n                <img onclick src=\"/favicon.ico\" />\n              </div>\n            </el-tooltip>\n          </el-form-item>\n        </el-form>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport { apiRegister } from \"../api/api.js\";\nimport { EventBus } from \"../event-bus.js\";\n// import { type } from \"os\";\nimport { Loading } from \"element-ui\";\nexport default {\n  name: \"bg\",\n  created() {\n    EventBus.$emit(\"hideLogo\", false); //隐藏logo的选择框\n  },\n  // 注册用户\n  methods: {\n    agree() {},\n    submit() {\n      if (!this.isAgree) {\n        this.$message({\n          message: \"请勾选同意相关协议\",\n          type: \"warning\"\n        });\n        return;\n      }\n      if (this.reg.password != this.reg.password2) {\n        this.errors.password2 = \"两次密码不一样\";\n        return;\n      }\n    Loading.service({ text: \"正在注册....\", fullscreen: true });\n      apiRegister({\n        username: this.reg.username,\n        password: this.reg.password\n      })\n        .then(res => {\n            Loading.service({ fullscreen: true }).close();\n          console.log(\"注册结果:\");\n          console.log(res);\n          if (res.code == 0) {\n            this.$message({\n              showClose: true,\n              message: \"注册成功，正在跳转到登录界面...\",\n              type: \"success\"\n            });\n            this.$router.replace({\n              name: \"login\"\n            });\n          } else {\n            let data = res.data;\n            if (data.username !== undefined) {\n              let temp = data.username.join(\",\");\n              if (temp.indexOf(\"already exists!\") != -1)\n                this.errors.username = \"用户名已存在\";\n            }\n            if (data.password !== undefined) {\n              //转换成中文\n              let temp = data.password.join(\",\");\n              if (temp == \"Field must be between 8 and 16 characters long.\")\n                this.errors.password = \"密码必须在8到16各长度之间\";\n            }\n          }\n        })\n        .catch(err => {\n            Loading.service({ fullscreen: true }).close();\n          console.log(err);\n     \n          console.log(\"注册失败:\");\n          this.$message({\n            type: \"error\",\n            message: \"注册失败\"\n          });\n        });\n    }\n  },\n  data() {\n    return {\n      isAgree: false,\n      //表单的错误信息\n      errors: {\n        username: \"\",\n        password: \"\",\n        password2: \"\"\n      },\n\n      reg: {\n        username: \"\",\n        password: \"\",\n        password2: \"\"\n      }\n    };\n  }\n};\n</script>\n\n<style>\n/* 设置背景图案 */\n#bg {\n  background: url(\"../images/register.jpg\");\n  background-size: cover;\n  height: 100%;\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n}\n</style>"]}]}