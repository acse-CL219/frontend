{"remainingRequest":"/Users/liuzhaolun/WebstormProjects/Tencent/website/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuzhaolun/WebstormProjects/Tencent/website/src/views/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuzhaolun/WebstormProjects/Tencent/website/src/views/Register.vue","mtime":1595785202836},{"path":"/Users/liuzhaolun/WebstormProjects/Tencent/website/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuzhaolun/WebstormProjects/Tencent/website/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liuzhaolun/WebstormProjects/Tencent/website/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuzhaolun/WebstormProjects/Tencent/website/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGFwaVJlZ2lzdGVyIH0gZnJvbSAiLi4vYXBpL2FwaS5qcyI7CmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAiLi4vZXZlbnQtYnVzLmpzIjsKLy8gaW1wb3J0IHsgdHlwZSB9IGZyb20gIm9zIjsKaW1wb3J0IHsgTG9hZGluZyB9IGZyb20gImVsZW1lbnQtdWkiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImJnIiwKICBjcmVhdGVkKCkgewogICAgRXZlbnRCdXMuJGVtaXQoImhpZGVMb2dvIiwgZmFsc2UpOyAvL+makOiXj2xvZ2/nmoTpgInmi6nmoYYKICB9LAogIC8vIOazqOWGjOeUqOaItwogIG1ldGhvZHM6IHsKICAgIGFncmVlKCkge30sCiAgICBzdWJtaXQoKSB7CiAgICAgIGlmICghdGhpcy5pc0FncmVlKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAi6K+35Yu+6YCJ5ZCM5oSP55u45YWz5Y2P6K6uIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAodGhpcy5yZWcucGFzc3dvcmQgIT0gdGhpcy5yZWcucGFzc3dvcmQyKSB7CiAgICAgICAgdGhpcy5lcnJvcnMucGFzc3dvcmQyID0gIuS4pOasoeWvhueggeS4jeS4gOagtyI7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICBMb2FkaW5nLnNlcnZpY2UoeyB0ZXh0OiAi5q2j5Zyo5rOo5YaMLi4uLiIsIGZ1bGxzY3JlZW46IHRydWUgfSk7CiAgICAgIGFwaVJlZ2lzdGVyKHsKICAgICAgICB1c2VybmFtZTogdGhpcy5yZWcudXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucmVnLnBhc3N3b3JkCiAgICAgIH0pCiAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgTG9hZGluZy5zZXJ2aWNlKHsgZnVsbHNjcmVlbjogdHJ1ZSB9KS5jbG9zZSgpOwogICAgICAgICAgY29uc29sZS5sb2coIuazqOWGjOe7k+aenDoiKTsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMCkgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgbWVzc2FnZTogIuazqOWGjOaIkOWKn++8jOato+WcqOi3s+i9rOWIsOeZu+W9leeVjOmdoi4uLiIsCiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgICAgICAgbmFtZTogImxvZ2luIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICAgIGlmIChkYXRhLnVzZXJuYW1lICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICBsZXQgdGVtcCA9IGRhdGEudXNlcm5hbWUuam9pbigiLCIpOwogICAgICAgICAgICAgIGlmICh0ZW1wLmluZGV4T2YoImFscmVhZHkgZXhpc3RzISIpICE9IC0xKQogICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMudXNlcm5hbWUgPSAi55So5oi35ZCN5bey5a2Y5ZyoIjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZGF0YS5wYXNzd29yZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgLy/ovazmjaLmiJDkuK3mlocKICAgICAgICAgICAgICBsZXQgdGVtcCA9IGRhdGEucGFzc3dvcmQuam9pbigiLCIpOwogICAgICAgICAgICAgIGlmICh0ZW1wID09ICJGaWVsZCBtdXN0IGJlIGJldHdlZW4gOCBhbmQgMTYgY2hhcmFjdGVycyBsb25nLiIpCiAgICAgICAgICAgICAgICB0aGlzLmVycm9ycy5wYXNzd29yZCA9ICLlr4bnoIHlv4XpobvlnKg45YiwMTblkITplb/luqbkuYvpl7QiOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgTG9hZGluZy5zZXJ2aWNlKHsgZnVsbHNjcmVlbjogdHJ1ZSB9KS5jbG9zZSgpOwogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAKICAgICAgICAgIGNvbnNvbGUubG9nKCLms6jlhozlpLHotKU6Iik7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgbWVzc2FnZTogIuazqOWGjOWksei0pSIKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzQWdyZWU6IGZhbHNlLAogICAgICAvL+ihqOWNleeahOmUmeivr+S/oeaBrwogICAgICBlcnJvcnM6IHsKICAgICAgICB1c2VybmFtZTogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgIHBhc3N3b3JkMjogIiIKICAgICAgfSwKCiAgICAgIHJlZzogewogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgcGFzc3dvcmQyOiAiIgogICAgICB9CiAgICB9OwogIH0KfTsK"},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"bg\">\n    <el-row type=\"flex\" justify=\"center\" style=\"margin-right:100px; margin-top: 110px\">\n      <el-col :span=\"5\" :xs=\"20\">\n        <div style=\"font-size:44px;margin-bottom: 20px;\">欢迎注册</div>\n        <div style=\"font-size:28px;margin-bottom: 64px;\">\n          每一天,乐在沟通\n          <div style=\"color:#359eff;float:right;\"></div>\n        </div>\n\n        <el-form size=\"medium\">\n          <el-form-item :error=\"errors.username\" label=\"用户名\" prop=\"username\">\n            <el-input placeholder=\"用户名\" v-model=\"reg.username\"></el-input>\n          </el-form-item>\n          <el-form-item :error=\"errors.password\" label=\"密码\" prop=\"password\">\n            <el-input placeholder=\"密码\" v-model=\"reg.password\" show-password></el-input>\n          </el-form-item>\n          <el-form-item :error=\"errors.password2\" label=\"确认密码\" prop=\"password2\">\n            <el-input placeholder=\"密码\" v-model=\"reg.password2\" show-password></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"submit()\" size=\"medium\">立即注册</el-button>\n          </el-form-item>\n          <el-form-item>\n            <el-tooltip placement=\"top\">\n              <div slot=\"content\">相关哈哈哈哈哈</div>\n              <div>\n                <el-checkbox v-model=\"isAgree\" @change=\"agree\">我已阅读并同意相关服务条款和隐私政策</el-checkbox>\n                <img onclick src=\"/favicon.ico\" />\n              </div>\n            </el-tooltip>\n          </el-form-item>\n        </el-form>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport { apiRegister } from \"../api/api.js\";\nimport { EventBus } from \"../event-bus.js\";\n// import { type } from \"os\";\nimport { Loading } from \"element-ui\";\nexport default {\n  name: \"bg\",\n  created() {\n    EventBus.$emit(\"hideLogo\", false); //隐藏logo的选择框\n  },\n  // 注册用户\n  methods: {\n    agree() {},\n    submit() {\n      if (!this.isAgree) {\n        this.$message({\n          message: \"请勾选同意相关协议\",\n          type: \"warning\"\n        });\n        return;\n      }\n      if (this.reg.password != this.reg.password2) {\n        this.errors.password2 = \"两次密码不一样\";\n        return;\n      }\n    Loading.service({ text: \"正在注册....\", fullscreen: true });\n      apiRegister({\n        username: this.reg.username,\n        password: this.reg.password\n      })\n        .then(res => {\n            Loading.service({ fullscreen: true }).close();\n          console.log(\"注册结果:\");\n          console.log(res);\n          if (res.code == 0) {\n            this.$message({\n              showClose: true,\n              message: \"注册成功，正在跳转到登录界面...\",\n              type: \"success\"\n            });\n            this.$router.replace({\n              name: \"login\"\n            });\n          } else {\n            let data = res.data;\n            if (data.username !== undefined) {\n              let temp = data.username.join(\",\");\n              if (temp.indexOf(\"already exists!\") != -1)\n                this.errors.username = \"用户名已存在\";\n            }\n            if (data.password !== undefined) {\n              //转换成中文\n              let temp = data.password.join(\",\");\n              if (temp == \"Field must be between 8 and 16 characters long.\")\n                this.errors.password = \"密码必须在8到16各长度之间\";\n            }\n          }\n        })\n        .catch(err => {\n            Loading.service({ fullscreen: true }).close();\n          console.log(err);\n     \n          console.log(\"注册失败:\");\n          this.$message({\n            type: \"error\",\n            message: \"注册失败\"\n          });\n        });\n    }\n  },\n  data() {\n    return {\n      isAgree: false,\n      //表单的错误信息\n      errors: {\n        username: \"\",\n        password: \"\",\n        password2: \"\"\n      },\n\n      reg: {\n        username: \"\",\n        password: \"\",\n        password2: \"\"\n      }\n    };\n  }\n};\n</script>\n\n<style>\n/* 设置背景图案 */\n#bg {\n  background: url(\"../images/register.jpg\");\n  background-size: cover;\n  height: 100%;\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n}\n</style>"]}]}